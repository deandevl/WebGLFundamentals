const t=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],e=[0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,1,1,0,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0];var n="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;var r=Math.PI/180;function a(t){return t*r}function i(){var t=new n(16);return n!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function o(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3],s=e[4],c=e[5],u=e[6],l=e[7],h=e[8],m=e[9],g=e[10],f=e[11],d=e[12],v=e[13],_=e[14],x=e[15],E=n[0],A=n[1],T=n[2],p=n[3];return t[0]=E*r+A*s+T*h+p*d,t[1]=E*a+A*c+T*m+p*v,t[2]=E*i+A*u+T*g+p*_,t[3]=E*o+A*l+T*f+p*x,E=n[4],A=n[5],T=n[6],p=n[7],t[4]=E*r+A*s+T*h+p*d,t[5]=E*a+A*c+T*m+p*v,t[6]=E*i+A*u+T*g+p*_,t[7]=E*o+A*l+T*f+p*x,E=n[8],A=n[9],T=n[10],p=n[11],t[8]=E*r+A*s+T*h+p*d,t[9]=E*a+A*c+T*m+p*v,t[10]=E*i+A*u+T*g+p*_,t[11]=E*o+A*l+T*f+p*x,E=n[12],A=n[13],T=n[14],p=n[15],t[12]=E*r+A*s+T*h+p*d,t[13]=E*a+A*c+T*m+p*v,t[14]=E*i+A*u+T*g+p*_,t[15]=E*o+A*l+T*f+p*x,t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var s=function(t,e,n,r,a){var i,o=1/Math.tan(e/2);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=a&&a!==1/0?(i=1/(r-a),t[10]=(a+r)*i,t[14]=2*a*r*i):(t[10]=-1,t[14]=-2*r),t};var c=function(t,e,n,r,a,i,o){var s=1/(e-n),c=1/(r-a),u=1/(i-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(a+r)*c,t[14]=(o+i)*u,t[15]=1,t};class u{constructor(t,e,n,r){this.gl=t,this.type=e,this.attributeLocation=this.gl.getAttribLocation(n,r),this.buffer=this.gl.createBuffer()}bufferFormat(t,e,n,r){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer),this.gl.vertexAttribPointer(this.attributeLocation,t,this.type,e,n,r),this.gl.enableVertexAttribArray(this.attributeLocation)}setData(t,e){switch(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer),this.type){case this.gl.FLOAT:this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(t),e);break;case this.gl.UNSIGNED_BYTE:this.gl.bufferData(this.gl.ARRAY_BUFFER,new Uint8Array(t),e)}}}class l{constructor(t){this.gl=t}setColor(t){const e=this.gl.createTexture();this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,new Uint8Array(t))}setImage(t,e){try{const n=this.gl.createTexture();this.gl.activeTexture(e),this.gl.bindTexture(this.gl.TEXTURE_2D,n),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,new Uint8Array([0,0,255,255]));const r=new Image;r.addEventListener("load",(()=>{this.gl.bindTexture(this.gl.TEXTURE_2D,n),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,r),this.gl.generateMipmap(this.gl.TEXTURE_2D)})),r.src=t}catch(t){throw new Error(`Texture2DClass fetch image error: ${t.message}`)}}}class h{static getOrthoMatrix(t,e,n,r,a,o){const s=i();return c(s,t,e,n,r,a,o),s}static getPerspectiveMatrix(t,e,n,r){const o=i();return s(o,a(t),e,n,r),o}static getTranslationMatrix(t){const e=i();var n,r;return r=t,(n=e)[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=r[0],n[13]=r[1],n[14]=r[2],n[15]=1,e}static getXYZRotationMatrix(t,e){const n=i();var r,o,s,c;return"x"===t?(r=n,o=a(e),s=Math.sin(o),c=Math.cos(o),r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=c,r[6]=s,r[7]=0,r[8]=0,r[9]=-s,r[10]=c,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1):"y"===t?function(t,e){var n=Math.sin(e),r=Math.cos(e);t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(n,a(e)):"z"===t&&function(t,e){var n=Math.sin(e),r=Math.cos(e);t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(n,a(e)),n}static getScaleMatrix(t){const e=i();var n,r;return r=t,(n=e)[0]=r[0],n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=r[1],n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=r[2],n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,e}}class m{constructor(t,e,n,r){this.gl=t,this.type=r,this.uniformLocation=t.getUniformLocation(e,n)}setData(...t){switch(this.type){case"uniform1f":this.gl.uniform1f(this.uniformLocation,t[0]);break;case"uniform2f":this.gl.uniform2f(this.uniformLocation,t[0],t[1]);break;case"uniform4f":this.gl.uniform4f(this.uniformLocation,t[0],t[1],t[2],t[3]);break;case"uniform2fv":this.gl.uniform2fv(this.uniformLocation,t[0]);break;case"uniform3fv":this.gl.uniform3fv(this.uniformLocation,t[0]);break;case"uniform4fv":this.gl.uniform4fv(this.uniformLocation,t[0]);break;case"uniformMatrix3fv":this.gl.uniformMatrix3fv(this.uniformLocation,!1,t[0]);break;case"uniformMatrix4fv":this.gl.uniformMatrix4fv(this.uniformLocation,!1,t[0]);break;default:throw new Error(`UniformClass: function ${this.type} has not been implemented.`)}}}function g(t,e,n){const r=t.createShader(e);t.shaderSource(r,n),t.compileShader(r);if(t.getShaderParameter(r,t.COMPILE_STATUS))return r;{const e=t.getShaderInfoLog(r);throw t.deleteShader(r),new Error("createShader: "+e)}}try{const n=function(t,e="webgl2",n){const r=document.getElementById(t);if(!r)throw new Error(`createGLContext: Could not locate canvas element with id ${t}`);return{gl:r.getContext(e,n),canvas:r}}("my_canvas"),r=n.gl,a=n.canvas;r.enable(r.DEPTH_TEST),r.enable(r.CULL_FACE),r.depthFunc(r.LEQUAL),function(t){const e=t.clientWidth,n=t.clientHeight,r=t.width!==e||t.height!==n;r&&(t.width=e,t.height=n)}(a),r.viewport(0,0,r.canvas.width,r.canvas.height);const s=g(r,r.VERTEX_SHADER,"#version 300 es\n\nin vec4 a_position_v4;\nin vec2 a_texcoord_v2;\n\nuniform mat4 u_matrix_m4;\n\nout vec2 v_texcoord_v2;\n\nvoid main() {\n  // Multiply the position by the matrix\n  gl_Position = u_matrix_m4 * a_position_v4;\n\n  // Pass the texcoord to the fragment shader\n  v_texcoord_v2 = a_texcoord_v2;\n}"),c=g(r,r.FRAGMENT_SHADER,"#version 300 es\n\nprecision highp float;\n\n// Passed in from the vertex shader\nin vec2 v_texcoord_v2;\n\n// The texture\nuniform sampler2D u_texture;\n\n// Output for fragment shader\nout vec4 outColor_v4;\n\nvoid main() {\n  outColor_v4 = texture(u_texture, v_texcoord_v2);\n}"),x=function(t,e,n){const r=t.createProgram();if(t.attachShader(r,e),t.attachShader(r,n),t.linkProgram(r),t.getProgramParameter(r,t.LINK_STATUS))return r;{const e=t.getProgramInfoLog(r);throw t.deleteProgram(r),new Error("createProgram: "+e)}}(r,s,c);r.useProgram(x);const E=r.FLOAT,A=new u(r,E,x,"a_position_v4");A.setData(t,r.STATIC_DRAW);const T=r.FLOAT,p=new u(r,T,x,"a_texcoord_v2");p.setData(e,r.STATIC_DRAW);const y=r.createVertexArray();r.bindVertexArray(y);{const t=3,e=!1,n=0,r=0;A.bufferFormat(t,e,n,r)}{const t=2,e=!0,n=0,r=0;p.bufferFormat(t,e,n,r)}new l(r,r.TEXTURE0+0).setImage("./f-texture.png",r.TEXTURE0+0);const R=new m(r,x,"u_matrix_m4","uniformMatrix4fv"),L=r.TRIANGLES,B=0,b=96;let I=0,w=0;const F=10.2;let M=0,C=!0,D=60;const S=r.canvas.clientWidth/r.canvas.clientHeight,U=1,P=2e3;let N=[-150,60,-380],G=[1,1,1];function f(t){if(C){const e=(t*=.001)-M;M=t,function(t,e=[0,0,0,1]){t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.clearColor(e[0],e[1],e[2],e[3]),t.clearDepth(1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}(r),I+=1.2*F*e,w+=F*e;const n=h.getXYZRotationMatrix("x",I),a=h.getXYZRotationMatrix("y",w),s=h.getPerspectiveMatrix(D,S,U,P),c=h.getTranslationMatrix(N),u=h.getScaleMatrix(G),l=i();o(l,s,c),o(l,l,n),o(l,l,a),o(l,l,u),R.setData(l),r.drawArrays(L,B,b),requestAnimationFrame(f)}}function d(t,e){N[t]=e,C=!0,requestAnimationFrame(f)}function v(t,e){G[t]=e,C=!0,requestAnimationFrame(f)}function _(t){C=t,C&&requestAnimationFrame(f)}window.requestAnimationFrame(f);const X=document.getElementById("fieldOfView"),k=document.getElementById("fieldOfView_output");X.step=.2,X.min=1,X.max=179,X.value=D,k.textContent=D,X.addEventListener("input",(()=>{const t=+X.value;k.textContent=X.value,D=t,C=!0,requestAnimationFrame(f)}));const O=document.getElementById("x_translate"),Y=document.getElementById("y_translate"),H=document.getElementById("z_translate"),q=document.getElementById("x_translate_output"),V=document.getElementById("y_translate_output"),z=document.getElementById("z_translate_output");O.min=-200,O.max=200,O.step=2,O.value=N[0],q.textContent=N[0],Y.min=-200,Y.max=200,Y.step=2,Y.value=N[1],V.textContent=N[1],H.min=-1e3,H.max=0,H.step=5,H.value=N[2],z.textContent=N[2],O.addEventListener("input",(()=>{const t=+O.value;q.textContent=t,d(0,t)})),Y.addEventListener("input",(()=>{const t=+Y.value;V.textContent=t,d(1,t)})),H.addEventListener("input",(()=>{const t=+H.value;z.textContent=t,d(2,t)}));const W=document.getElementById("x_scale"),Z=document.getElementById("y_scale"),$=document.getElementById("z_scale"),K=document.getElementById("x_scale_output"),Q=document.getElementById("y_scale_output"),j=document.getElementById("z_scale_output");W.step=Z.step=$.step=.1,W.min=Z.min=$.min=-5,W.max=Z.max=$.max=5,W.value=K.textContent=G[0],Z.value=Q.textContent=G[1],$.value=j.textContent=G[2],W.addEventListener("input",(()=>{const t=+W.value;K.textContent=t,v(0,t)})),Z.addEventListener("input",(()=>{const t=+Z.value;Q.textContent=t,v(1,t)})),$.addEventListener("input",(()=>{const t=+$.value;j.textContent=t,v(2,t)}));const J=document.getElementById("startStopRotate");J.checked=!0,J.addEventListener("change",(()=>{J.checked?_(!0):_(!1)}))}catch(t){console.log(t)}
//# sourceMappingURL=index.9dccc9aa.js.map
