const t=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],r=[200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,70,200,210,70,200,210,70,200,210,70,200,210,70,200,210,70,200,210,200,200,70,200,200,70,200,200,70,200,200,70,200,200,70,200,200,70,210,100,70,210,100,70,210,100,70,210,100,70,210,100,70,210,100,70,210,160,70,210,160,70,210,160,70,210,160,70,210,160,70,210,160,70,70,180,210,70,180,210,70,180,210,70,180,210,70,180,210,70,180,210,100,70,210,100,70,210,100,70,210,100,70,210,100,70,210,100,70,210,76,210,100,76,210,100,76,210,100,76,210,100,76,210,100,76,210,100,140,210,80,140,210,80,140,210,80,140,210,80,140,210,80,140,210,80,90,130,110,90,130,110,90,130,110,90,130,110,90,130,110,90,130,110,160,160,220,160,160,220,160,160,220,160,160,220,160,160,220,160,160,220];var e="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;var a=Math.PI/180;function n(t){return t*a}function i(){var t=new e(16);return e!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function o(t,r,e){var a=r[0],n=r[1],i=r[2],o=r[3],s=r[4],c=r[5],h=r[6],l=r[7],f=r[8],u=r[9],g=r[10],m=r[11],v=r[12],d=r[13],_=r[14],A=r[15],y=e[0],M=e[1],E=e[2],b=e[3];return t[0]=y*a+M*s+E*f+b*v,t[1]=y*n+M*c+E*u+b*d,t[2]=y*i+M*h+E*g+b*_,t[3]=y*o+M*l+E*m+b*A,y=e[4],M=e[5],E=e[6],b=e[7],t[4]=y*a+M*s+E*f+b*v,t[5]=y*n+M*c+E*u+b*d,t[6]=y*i+M*h+E*g+b*_,t[7]=y*o+M*l+E*m+b*A,y=e[8],M=e[9],E=e[10],b=e[11],t[8]=y*a+M*s+E*f+b*v,t[9]=y*n+M*c+E*u+b*d,t[10]=y*i+M*h+E*g+b*_,t[11]=y*o+M*l+E*m+b*A,y=e[12],M=e[13],E=e[14],b=e[15],t[12]=y*a+M*s+E*f+b*v,t[13]=y*n+M*c+E*u+b*d,t[14]=y*i+M*h+E*g+b*_,t[15]=y*o+M*l+E*m+b*A,t}Math.hypot||(Math.hypot=function(){for(var t=0,r=arguments.length;r--;)t+=arguments[r]*arguments[r];return Math.sqrt(t)});var s=function(t,r,e,a,n){var i,o=1/Math.tan(r/2);return t[0]=o/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=n&&n!==1/0?(i=1/(a-n),t[10]=(n+a)*i,t[14]=2*n*a*i):(t[10]=-1,t[14]=-2*a),t};var c=function(t,r,e,a,n,i,o){var s=1/(r-e),c=1/(a-n),h=1/(i-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(r+e)*s,t[13]=(n+a)*c,t[14]=(o+i)*h,t[15]=1,t};function h(t,r,e){const a=t.createShader(r);t.shaderSource(a,e),t.compileShader(a);if(t.getShaderParameter(a,t.COMPILE_STATUS))return a;{const r=t.getShaderInfoLog(a);throw t.deleteShader(a),new Error(`HelperFunctions-createShader-Error: ${r}`)}}class l{constructor(t,r,e,a){this.gl=t,this.buffer_type="ARRAY",this.data_type=r,this.attributeLocation=this.gl.getAttribLocation(e,a),this.arrayBuffer=this.gl.createBuffer()}bufferFormat(t,r,e,a){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.arrayBuffer),this.gl.vertexAttribPointer(this.attributeLocation,t,this.data_type,r,e,a),this.gl.enableVertexAttribArray(this.attributeLocation)}setData(t,r){let e;if(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.arrayBuffer),e=t,"number"==typeof t[0]){e=new Array(t.length);for(let r=0;r<t.length;r++)e[r]=t[r]}else if(Array.isArray(t)){e=new Array(t.length*t[0].length);for(let r=0;r<t.length;r++)for(let a=0;a<t[0].length;a++)e[r*t[0].length+a]=t[r][a]}switch(this.data_type){case this.gl.FLOAT:this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(e),r);break;case this.gl.UNSIGNED_BYTE:this.gl.bufferData(this.gl.ARRAY_BUFFER,new Uint8Array(e),r)}}delete(){this.gl.deleteBuffer(this.arrayBuffer)}}class f{static getOrthoMatrix(t,r,e,a,n,o){const s=i();return c(s,t,r,e,a,n,o),s}static getPerspectiveMatrix(t,r,e,a){const o=i();return s(o,n(t),r,e,a),o}static getTranslationMatrix(t){const r=i();var e,a;return a=t,(e=r)[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=a[0],e[13]=a[1],e[14]=a[2],e[15]=1,r}static getRotationMatrix(t,r){const e=i();var a,o,s,c,h,l,f,u,g,m;return a=e,o=n(t),f=(s=r)[0],u=s[1],g=s[2],!((m=Math.hypot(f,u,g))<1e-6)&&(f*=m=1/m,u*=m,g*=m,c=Math.sin(o),l=1-(h=Math.cos(o)),a[0]=f*f*l+h,a[1]=u*f*l+g*c,a[2]=g*f*l-u*c,a[3]=0,a[4]=f*u*l-g*c,a[5]=u*u*l+h,a[6]=g*u*l+f*c,a[7]=0,a[8]=f*g*l+u*c,a[9]=u*g*l-f*c,a[10]=g*g*l+h,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1),e}static getXYZRotationMatrix(t,r){const e=i();var a,o,s,c;return"x"===t?(a=e,o=n(r),s=Math.sin(o),c=Math.cos(o),a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=c,a[6]=s,a[7]=0,a[8]=0,a[9]=-s,a[10]=c,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):"y"===t?function(t,r){var e=Math.sin(r),a=Math.cos(r);t[0]=a,t[1]=0,t[2]=-e,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=e,t[9]=0,t[10]=a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(e,n(r)):"z"===t&&function(t,r){var e=Math.sin(r),a=Math.cos(r);t[0]=a,t[1]=e,t[2]=0,t[3]=0,t[4]=-e,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(e,n(r)),e}static getScaleMatrix(t){const r=i();var e,a;return a=t,(e=r)[0]=a[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=a[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,r}}class u{constructor(t,r,e,a){this.gl=t,this.data_type=a,this.data=null,this.uniformLocation=t.getUniformLocation(r,e)}setData(...t){switch(this.data_type){case"uniform1i":this.gl.uniform1i(this.uniformLocation,t[0]),this.data=t[0];break;case"uniform1f":this.gl.uniform1f(this.uniformLocation,t[0]),this.data=t[0];break;case"uniform2f":this.gl.uniform2f(this.uniformLocation,t[0],t[1]),this.data=[t[0],t[1]];break;case"uniform4f":this.gl.uniform4f(this.uniformLocation,t[0],t[1],t[2],t[3]),this.data=[t[0],t[1],t[2],t[3]];break;case"uniform2fv":this.gl.uniform2fv(this.uniformLocation,t[0]),this.data=t[0];break;case"uniform3fv":this.gl.uniform3fv(this.uniformLocation,t[0]),this.data=t[0];break;case"uniform4fv":this.gl.uniform4fv(this.uniformLocation,t[0]),this.data=t[0];break;case"uniformMatrix3fv":this.gl.uniformMatrix3fv(this.uniformLocation,!1,t[0]),this.data=t[0];break;case"uniformMatrix4fv":this.gl.uniformMatrix4fv(this.uniformLocation,!1,t[0]),this.data=t[0];break;default:throw new Error(`UniformClass: function ${this.type} has not been implemented.`)}}}function g(t,r){let e=[];for(let a=0;a<4;++a){e[a]=0;for(let n=0;n<4;++n)e[a]+=t[n]*r[4*n+a]}return e}try{const e=function(t,r="webgl2",e){const a=document.getElementById(t);if(!a)throw new Error(`HelperFunctions-createGLContext-Error: Could not locate canvas element with id ${t}`);return{gl:a.getContext(r,e),canvas:a}}("my_canvas"),a=e.gl,n=e.canvas,s=5,c=200;a.enable(a.DEPTH_TEST),a.enable(a.CULL_FACE),a.depthFunc(a.LEQUAL),function(t){const r=t.clientWidth,e=t.clientHeight,a=t.width!==r||t.height!==e;a&&(t.width=r,t.height=e)}(n),a.viewport(0,0,a.canvas.width,a.canvas.height);const v=h(a,a.VERTEX_SHADER,"#version 300 es\n\nin vec4 a_position_v4;\nin vec4 a_color_v4;\n\nuniform mat4 u_matrix_m4;\n\nout vec4 v_color_v4;\n\nvoid main() {\n  // Multiply the position by the matrix\n  gl_Position = u_matrix_m4 * a_position_v4;\n\n  // Pass the color to the fragment shader\n  v_color_v4 = a_color_v4;\n}"),d=h(a,a.FRAGMENT_SHADER,"#version 300 es\n\nprecision highp float;\n\n// Passed in from the vertex shader\nin vec4 v_color_v4;\nout vec4 outColor_v4;\n\nvoid main() {\n  outColor_v4 = v_color_v4;\n}"),_=function(t,r,e){const a=t.createProgram();if(t.attachShader(a,r),t.attachShader(a,e),t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS))return a;{const r=t.getProgramInfoLog(a);throw t.deleteProgram(a),new Error(`HelperFunctions-createProgram-Error: ${r}`)}}(a,v,d);a.useProgram(_);const A=a.FLOAT,y=new l(a,A,_,"a_position_v4"),M=f.getXYZRotationMatrix("x",180);o(M,M,f.getTranslationMatrix([-50,-75,-15]));for(let r=0;r<t.length;r+=3){const e=g([t[r],t[r+1],t[r+2],1],M);t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2]}y.setData(t,a.STATIC_DRAW);const E=a.UNSIGNED_BYTE,b=new l(a,E,_,"a_color_v4");b.setData(r,a.STATIC_DRAW);const p=a.createVertexArray();a.bindVertexArray(p);{const t=3,r=!1,e=0,a=0;y.bufferFormat(t,r,e,a)}{const t=3,r=!0,e=0,a=0;b.bufferFormat(t,r,e,a)}const x=new u(a,_,"u_matrix_m4","uniformMatrix4fv"),L=a.TRIANGLES,F=0,R=96,T=a.canvas.clientWidth/a.canvas.clientHeight,w=1,S=2e3,B=60,P=f.getPerspectiveMatrix(B,T,w,S);let D=0;function m(){!function(t,r=[.9,.9,.9,1]){t.clearColor(r[0],r[1],r[2],r[3]),t.clearDepth(1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL)}(a);const t=f.getXYZRotationMatrix("y",D);o(t,t,f.getTranslationMatrix([0,0,1.5*c]));const r=i();var e,n,h,l,u,g,m,v,d,_,A,y,M,E,b,p,T,w,S,B,I,U,C,k,H,Y,N,O,G,V,W;e=r,h=(n=t)[0],l=n[1],u=n[2],g=n[3],m=n[4],v=n[5],d=n[6],_=n[7],A=n[8],y=n[9],M=n[10],E=n[11],b=n[12],p=n[13],T=n[14],w=n[15],(W=(S=h*v-l*m)*(V=M*w-E*T)-(B=h*d-u*m)*(G=y*w-E*p)+(I=h*_-g*m)*(O=y*T-M*p)+(U=l*d-u*v)*(N=A*w-E*b)-(C=l*_-g*v)*(Y=A*T-M*b)+(k=u*_-g*d)*(H=A*p-y*b))&&(W=1/W,e[0]=(v*V-d*G+_*O)*W,e[1]=(u*G-l*V-g*O)*W,e[2]=(p*k-T*C+w*U)*W,e[3]=(M*C-y*k-E*U)*W,e[4]=(d*N-m*V-_*Y)*W,e[5]=(h*V-u*N+g*Y)*W,e[6]=(T*I-b*k-w*B)*W,e[7]=(A*k-M*I+E*B)*W,e[8]=(m*G-v*N+_*H)*W,e[9]=(l*N-h*G-g*H)*W,e[10]=(b*C-p*I+w*S)*W,e[11]=(y*I-A*C-E*S)*W,e[12]=(v*Y-m*O-d*H)*W,e[13]=(h*O-l*Y+u*H)*W,e[14]=(p*B-b*U-T*S)*W,e[15]=(A*U-y*B+M*S)*W);const X=i();o(X,P,r);for(let t=0;t<s;++t){let r=t*Math.PI*2/s,e=Math.cos(r)*c,n=Math.sin(r)*c,h=i();o(h,X,f.getTranslationMatrix([e,0,n])),x.setData(h),a.drawArrays(L,F,R)}}const I=document.getElementById("cameraAngle"),U=document.getElementById("cameraAngle_output");I.step=5,I.min=-360,I.max=360,U.textContent=D,I.value=D,I.addEventListener("input",(()=>{const t=+I.value;U.textContent=I.value,D=t,m()})),m()}catch(t){console.log(t)}
//# sourceMappingURL=index.a912dde4.js.map
