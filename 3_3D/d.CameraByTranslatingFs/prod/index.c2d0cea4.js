const t=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],r=[200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,200,70,120,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,80,70,200,70,200,210,70,200,210,70,200,210,70,200,210,70,200,210,70,200,210,200,200,70,200,200,70,200,200,70,200,200,70,200,200,70,200,200,70,210,100,70,210,100,70,210,100,70,210,100,70,210,100,70,210,100,70,210,160,70,210,160,70,210,160,70,210,160,70,210,160,70,210,160,70,70,180,210,70,180,210,70,180,210,70,180,210,70,180,210,70,180,210,100,70,210,100,70,210,100,70,210,100,70,210,100,70,210,100,70,210,76,210,100,76,210,100,76,210,100,76,210,100,76,210,100,76,210,100,140,210,80,140,210,80,140,210,80,140,210,80,140,210,80,140,210,80,90,130,110,90,130,110,90,130,110,90,130,110,90,130,110,90,130,110,160,160,220,160,160,220,160,160,220,160,160,220,160,160,220,160,160,220];var n="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;var e=Math.PI/180;function a(t){return t*e}function o(){var t=new n(16);return n!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function i(t,r,n){var e=r[0],a=r[1],o=r[2],i=r[3],s=r[4],c=r[5],h=r[6],f=r[7],u=r[8],l=r[9],g=r[10],m=r[11],v=r[12],_=r[13],d=r[14],A=r[15],M=n[0],b=n[1],x=n[2],E=n[3];return t[0]=M*e+b*s+x*u+E*v,t[1]=M*a+b*c+x*l+E*_,t[2]=M*o+b*h+x*g+E*d,t[3]=M*i+b*f+x*m+E*A,M=n[4],b=n[5],x=n[6],E=n[7],t[4]=M*e+b*s+x*u+E*v,t[5]=M*a+b*c+x*l+E*_,t[6]=M*o+b*h+x*g+E*d,t[7]=M*i+b*f+x*m+E*A,M=n[8],b=n[9],x=n[10],E=n[11],t[8]=M*e+b*s+x*u+E*v,t[9]=M*a+b*c+x*l+E*_,t[10]=M*o+b*h+x*g+E*d,t[11]=M*i+b*f+x*m+E*A,M=n[12],b=n[13],x=n[14],E=n[15],t[12]=M*e+b*s+x*u+E*v,t[13]=M*a+b*c+x*l+E*_,t[14]=M*o+b*h+x*g+E*d,t[15]=M*i+b*f+x*m+E*A,t}Math.hypot||(Math.hypot=function(){for(var t=0,r=arguments.length;r--;)t+=arguments[r]*arguments[r];return Math.sqrt(t)});var s=function(t,r,n,e,a){var o,i=1/Math.tan(r/2);return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=a&&a!==1/0?(o=1/(e-a),t[10]=(a+e)*o,t[14]=2*a*e*o):(t[10]=-1,t[14]=-2*e),t};var c=function(t,r,n,e,a,o,i){var s=1/(r-n),c=1/(e-a),h=1/(o-i);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(r+n)*s,t[13]=(a+e)*c,t[14]=(i+o)*h,t[15]=1,t};class h{constructor(t,r,n,e){this.gl=t,this.type=r,this.attributeLocation=this.gl.getAttribLocation(n,e),this.buffer=this.gl.createBuffer()}bufferFormat(t,r,n,e){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer),this.gl.vertexAttribPointer(this.attributeLocation,t,this.type,r,n,e),this.gl.enableVertexAttribArray(this.attributeLocation)}setData(t,r){switch(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer),this.type){case this.gl.FLOAT:this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(t),r);break;case this.gl.UNSIGNED_BYTE:this.gl.bufferData(this.gl.ARRAY_BUFFER,new Uint8Array(t),r)}}}class f{static getOrthoMatrix(t,r,n,e,a,i){const s=o();return c(s,t,r,n,e,a,i),s}static getPerspectiveMatrix(t,r,n,e){const i=o();return s(i,a(t),r,n,e),i}static getTranslationMatrix(t){const r=o();var n,e;return e=t,(n=r)[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=e[0],n[13]=e[1],n[14]=e[2],n[15]=1,r}static getXYZRotationMatrix(t,r){const n=o();var e,i,s,c;return"x"===t?(e=n,i=a(r),s=Math.sin(i),c=Math.cos(i),e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=s,e[7]=0,e[8]=0,e[9]=-s,e[10]=c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1):"y"===t?function(t,r){var n=Math.sin(r),e=Math.cos(r);t[0]=e,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(n,a(r)):"z"===t&&function(t,r){var n=Math.sin(r),e=Math.cos(r);t[0]=e,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(n,a(r)),n}static getScaleMatrix(t){const r=o();var n,e;return e=t,(n=r)[0]=e[0],n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=e[1],n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=e[2],n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,r}}class u{constructor(t,r,n,e){this.gl=t,this.type=e,this.uniformLocation=t.getUniformLocation(r,n)}setData(...t){switch(this.type){case"uniform1f":this.gl.uniform1f(this.uniformLocation,t[0]);break;case"uniform2f":this.gl.uniform2f(this.uniformLocation,t[0],t[1]);break;case"uniform4f":this.gl.uniform4f(this.uniformLocation,t[0],t[1],t[2],t[3]);break;case"uniform2fv":this.gl.uniform2fv(this.uniformLocation,t[0]);break;case"uniform3fv":this.gl.uniform3fv(this.uniformLocation,t[0]);break;case"uniform4fv":this.gl.uniform4fv(this.uniformLocation,t[0]);break;case"uniformMatrix3fv":this.gl.uniformMatrix3fv(this.uniformLocation,!1,t[0]);break;case"uniformMatrix4fv":this.gl.uniformMatrix4fv(this.uniformLocation,!1,t[0]);break;default:throw new Error(`UniformClass: function ${this.type} has not been implemented.`)}}}function l(t,r,n){const e=t.createShader(r);t.shaderSource(e,n),t.compileShader(e);if(t.getShaderParameter(e,t.COMPILE_STATUS))return e;{const r=t.getShaderInfoLog(e);throw t.deleteShader(e),new Error("createShader: "+r)}}function g(t,r){let n=[];for(let e=0;e<4;++e){n[e]=0;for(let a=0;a<4;++a)n[e]+=t[a]*r[4*a+e]}return n}try{const n=function(t,r="webgl2",n){const e=document.getElementById(t);if(!e)throw new Error(`createGLContext: Could not locate canvas element with id ${t}`);return{gl:e.getContext(r,n),canvas:e}}("my_canvas"),e=n.gl,a=n.canvas,s=5,c=200;e.enable(e.DEPTH_TEST),e.enable(e.CULL_FACE),e.depthFunc(e.LEQUAL),function(t){const r=t.clientWidth,n=t.clientHeight,e=t.width!==r||t.height!==n;e&&(t.width=r,t.height=n)}(a),e.viewport(0,0,e.canvas.width,e.canvas.height);const v=l(e,e.VERTEX_SHADER,"#version 300 es\n\nin vec4 a_position_v4;\nin vec4 a_color_v4;\n\nuniform mat4 u_matrix_m4;\n\nout vec4 v_color_v4;\n\nvoid main() {\n  // Multiply the position by the matrix\n  gl_Position = u_matrix_m4 * a_position_v4;\n\n  // Pass the color to the fragment shader\n  v_color_v4 = a_color_v4;\n}"),_=l(e,e.FRAGMENT_SHADER,"#version 300 es\n\nprecision highp float;\n\n// Passed in from the vertex shader\nin vec4 v_color_v4;\nout vec4 outColor_v4;\n\nvoid main() {\n  outColor_v4 = v_color_v4;\n}"),d=function(t,r,n){const e=t.createProgram();if(t.attachShader(e,r),t.attachShader(e,n),t.linkProgram(e),t.getProgramParameter(e,t.LINK_STATUS))return e;{const r=t.getProgramInfoLog(e);throw t.deleteProgram(e),new Error("createProgram: "+r)}}(e,v,_);e.useProgram(d);const A=e.FLOAT,M=new h(e,A,d,"a_position_v4"),b=f.getXYZRotationMatrix("x",180);i(b,b,f.getTranslationMatrix([-50,-75,-15]));for(let r=0;r<t.length;r+=3){const n=g([t[r],t[r+1],t[r+2],1],b);t[r]=n[0],t[r+1]=n[1],t[r+2]=n[2]}M.setData(t,e.STATIC_DRAW);const x=e.UNSIGNED_BYTE,E=new h(e,x,d,"a_color_v4");E.setData(r,e.STATIC_DRAW);const L=e.createVertexArray();e.bindVertexArray(L);{const t=3,r=!1,n=0,e=0;M.bufferFormat(t,r,n,e)}{const t=3,r=!0,n=0,e=0;E.bufferFormat(t,r,n,e)}const y=new u(e,d,"u_matrix_m4","uniformMatrix4fv"),R=e.TRIANGLES,p=0,F=96,S=e.canvas.clientWidth/e.canvas.clientHeight,T=1,w=2e3,P=60,B=f.getPerspectiveMatrix(P,S,T,w);let C=0;function m(){!function(t,r=[0,0,0,1]){t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.clearColor(r[0],r[1],r[2],r[3]),t.clearDepth(1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}(e);const t=f.getXYZRotationMatrix("y",C);i(t,t,f.getTranslationMatrix([0,0,1.5*c]));const r=o();var n,a,h,u,l,g,m,v,_,d,A,M,b,x,E,L,S,T,w,P,D,I,U,k,N,Y,H,O,G,V,W;n=r,h=(a=t)[0],u=a[1],l=a[2],g=a[3],m=a[4],v=a[5],_=a[6],d=a[7],A=a[8],M=a[9],b=a[10],x=a[11],E=a[12],L=a[13],S=a[14],T=a[15],(W=(w=h*v-u*m)*(V=b*T-x*S)-(P=h*_-l*m)*(G=M*T-x*L)+(D=h*d-g*m)*(O=M*S-b*L)+(I=u*_-l*v)*(H=A*T-x*E)-(U=u*d-g*v)*(Y=A*S-b*E)+(k=l*d-g*_)*(N=A*L-M*E))&&(W=1/W,n[0]=(v*V-_*G+d*O)*W,n[1]=(l*G-u*V-g*O)*W,n[2]=(L*k-S*U+T*I)*W,n[3]=(b*U-M*k-x*I)*W,n[4]=(_*H-m*V-d*Y)*W,n[5]=(h*V-l*H+g*Y)*W,n[6]=(S*D-E*k-T*P)*W,n[7]=(A*k-b*D+x*P)*W,n[8]=(m*G-v*H+d*N)*W,n[9]=(u*H-h*G-g*N)*W,n[10]=(E*U-L*D+T*w)*W,n[11]=(M*D-A*U-x*w)*W,n[12]=(v*Y-m*O-_*N)*W,n[13]=(h*O-u*Y+l*N)*W,n[14]=(L*P-E*I-S*w)*W,n[15]=(A*I-M*P+b*w)*W);const X=o();i(X,B,r);for(let t=0;t<s;++t){let r=t*Math.PI*2/s,n=Math.cos(r)*c,a=Math.sin(r)*c,h=o();i(h,X,f.getTranslationMatrix([n,0,a])),y.setData(h),e.drawArrays(R,p,F)}}const D=document.getElementById("cameraAngle"),I=document.getElementById("cameraAngle_output");D.step=5,D.min=-360,D.max=360,I.textContent=C,D.value=C,D.addEventListener("input",(()=>{const t=+D.value;I.textContent=D.value,C=t,m()})),m()}catch(t){console.log(t)}
//# sourceMappingURL=index.c2d0cea4.js.map
