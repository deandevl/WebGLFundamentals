"undefined"!=typeof Float32Array&&Float32Array,Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});class t{constructor(t,e,o,r){this.gl=t,this.type=e,this.attributeLocation=this.gl.getAttribLocation(o,r),this.buffer=this.gl.createBuffer()}bufferFormat(t,e,o,r){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer),this.gl.vertexAttribPointer(this.attributeLocation,t,this.type,e,o,r),this.gl.enableVertexAttribArray(this.attributeLocation)}setData(t,e){switch(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer),this.type){case this.gl.FLOAT:this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(t),e);break;case this.gl.UNSIGNED_BYTE:this.gl.bufferData(this.gl.ARRAY_BUFFER,new Uint8Array(t),e)}}}class e{constructor(t,e,o,r){this.gl=t,this.type=r,this.uniformLocation=t.getUniformLocation(e,o)}setData(...t){switch(this.type){case"uniform1f":this.gl.uniform1f(this.uniformLocation,t[0]);break;case"uniform2f":this.gl.uniform2f(this.uniformLocation,t[0],t[1]);break;case"uniform4f":this.gl.uniform4f(this.uniformLocation,t[0],t[1],t[2],t[3]);break;case"uniform2fv":this.gl.uniform2fv(this.uniformLocation,t[0]);break;case"uniform3fv":this.gl.uniform3fv(this.uniformLocation,t[0]);break;case"uniform4fv":this.gl.uniform4fv(this.uniformLocation,t[0]);break;case"uniformMatrix3fv":this.gl.uniformMatrix3fv(this.uniformLocation,!1,t[0]);break;case"uniformMatrix4fv":this.gl.uniformMatrix4fv(this.uniformLocation,!1,t[0]);break;default:throw new Error(`UniformClass: function ${this.type} has not been implemented.`)}}}function o(t,e,o){const r=t.createShader(e);t.shaderSource(r,o),t.compileShader(r);if(t.getShaderParameter(r,t.COMPILE_STATUS))return r;{const e=t.getShaderInfoLog(r);throw t.deleteShader(r),new Error("createShader: "+e)}}try{const r=function(t,e="webgl2",o){const r=document.getElementById(t);if(!r)throw new Error(`createGLContext: Could not locate canvas element with id ${t}`);return{gl:r.getContext(e,o),canvas:r}}("my_canvas"),n=r.gl;!function(t){const e=t.clientWidth,o=t.clientHeight,r=t.width!==e||t.height!==o;r&&(t.width=e,t.height=o)}(r.canvas),n.viewport(0,0,n.canvas.width,n.canvas.height);const i=o(n,n.VERTEX_SHADER,"#version 300 es\n\n// Receive position data from the buffer\nin vec2 a_position_v2;\n\n// Used to pass in the resolution of the canvas\nuniform vec2 u_resolution_v2;\n\nvoid main() {\n  // convert the position from pixels to 0.0 to 1.0\n  vec2 zeroToOne_v2 = a_position_v2 / u_resolution_v2;\n\n  // convert from 0->1 to 0->2\n  vec2 zeroToTwo_v2 = zeroToOne_v2 * 2.0;\n\n  // convert from 0->2 to -1 -> +1 (clip space)\n  vec2 clipSpace_v2 = zeroToTwo_v2 - 1.0;\n\n  // flip and assign position\n  gl_Position = vec4(clipSpace_v2 * vec2(1, -1), 0, 1);\n}"),a=function(t,e,o){const r=t.createProgram();if(t.attachShader(r,e),t.attachShader(r,o),t.linkProgram(r),t.getProgramParameter(r,t.LINK_STATUS))return r;{const e=t.getProgramInfoLog(r);throw t.deleteProgram(r),new Error("createProgram: "+e)}}(n,i,o(n,n.FRAGMENT_SHADER,'#version 300 es\n\n// Fragment shaders don\'t have a default precision so we need\n//   to pick one. highp is a good default. It means "high precision"\n\nprecision highp float;\n\n// We need to declare an output for the fragment shader\nout vec4 outColor_v4;\n\nvoid main() {\n  // outColor variable is responsible for setting (red, green, blue)\n  outColor_v4 = vec4(1, 0, 0.5, 1); // return reddish-purple\n}'));n.useProgram(a);const s=[10,20,80,20,10,30,10,30,80,20,80,30],c=new t(n,n.FLOAT,a,"a_position_v2");c.setData(s,n.STATIC_DRAW);const h=n.createVertexArray();n.bindVertexArray(h);{const t=2,e=!1,o=0,r=0;c.bufferFormat(t,e,o,r)}new e(n,a,"u_resolution_v2","uniform2f").setData(n.canvas.width,n.canvas.height),function(t,e=[0,0,0,1]){t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.clearColor(e[0],e[1],e[2],e[3]),t.clearDepth(1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}(n);const f=n.TRIANGLES,u=0,l=s.length/2;n.drawArrays(f,u,l)}catch(t){console.log(t.message)}
//# sourceMappingURL=index.8c4556fd.js.map
